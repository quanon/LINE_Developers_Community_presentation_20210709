<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>LINE Notify x Raspberry Pi = ğŸ’–</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<!-- https://revealjs.com/themes/ -->
		<link rel="stylesheet" href="dist/theme/simple.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div style="display: flex; align-items: center; justify-content: center;">
						<img width=400 style="margin: 0 50px 0 0;" src="dist/images/line_notify.png">
						<div style="font-size: 100px;">x</div>
						<img width=400 style="margin: 0;" src="dist/images/raspberry_pi.png">
						<div style="font-size: 100px; margin-right: 40px;">=</div>
						<div style="font-size: 150px;">ğŸ’–</div>
					</div>
				</section>
				<section data-markdown>
					<textarea data-template>
						## è‡ªå·±ç´¹ä»‹
						### <ruby>é‡ç”°<rt>ã®ã </rt></ruby><ruby>å¿ƒå¹³<rt>ã—ã‚“ãºã„</rt></ruby>
						- ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ : <ruby>QUANON<rt>ãã‚ã®ã‚“</rt></ruby>
						- ç¦å²¡åœ¨ä½
						- ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
						- å¥½ããªã‚‚ã®
						<div style="display: flex; align-items: center; justify-content: center;">
							<figure>
								<img style="margin-bottom: 5px;" height=180 src="dist/images/tunapaha.jpg">
								<figcaption style="font-size: 20px; text-align: center;">ã‚¹ãƒªãƒ©ãƒ³ã‚«ã‚«ãƒ¬ãƒ¼</figcaption>
							</figure>
							<figure>
								<img style="margin-bottom: 5px;" height=180 src="dist/images/haruki_murakami.jpg">
								<figcaption style="font-size: 20px; text-align: center;">æ‘ä¸Šæ˜¥æ¨¹</figcaption>
							</figure>
						</div>
					</textarea>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template>
							## [[Ruby][LINE] ã”ã¿å‡ºã—æ—¥ã« LINE ã§é€šçŸ¥ã™ã‚‹](https://qiita.com/QUANON/items/ccfe650a30bd6068a5f4)
						</textarea>
					</section>
					<section>
						<div style="overflow: scroll; height: 700px;">
							<figure><img src="dist/images/qiita_article1.png"></figure>
						</div>
					</section>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ä¸»ãªå¯¾è±¡è€…
						- Python/Ruby/JavsScript ãŒä½¿ãˆã‚‹ã€‚
							- ãƒ—ãƒ­ã‚°ãƒ©ãƒã§ãªãã¦ã‚‚è»½ãä½¿ãˆã‚‹ç¨‹åº¦ã§ OK ğŸ™†
						- Linux ãªã‚“ã¨ãªãã‚ã‹ã‚‹ ğŸ¤–
							- åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã€‚
							- ssh ã‚„ cron ãŒãªã‚“ã¨ãªãã‚ã‹ã‚‹ã€‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## æ—¥å¸¸ã®ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãª<br>å›°ã‚Šã”ã¨ã‚’è§£æ±ºã—ãŸã„
						- ã‚´ãƒŸå‡ºã—æ—¥ã‚’å¿˜ã‚Œã¡ã‚ƒã† ğŸ˜¢
						- Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®é€šçŸ¥ã¯æ°—ã¥ãã¥ã‚‰ã„ ğŸ™ˆ
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						<figure>
							<img src="dist/images/line.png">
						</figure>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## è¦ä»¶
						- ã‚´ãƒŸå‡ºã—æ—¥ã® 19:00 ã« LINE ã«é€šçŸ¥ã™ã‚‹ã€‚<br>â€» ç¦å²¡ã¯æ·±å¤œã«ã‚´ãƒŸã‚’å›åã™ã‚‹ã€‚
							- æ¯é€±æœˆãƒ»æœ¨æ›œæ—¥: ç‡ƒãˆã‚‹ã‚´ãƒŸ
							- ç¬¬ 2 æ—¥æ›œæ—¥: ç‡ƒãˆãªã„ã”ã¿
							- ç¬¬ 4 æ—¥æ›œæ—¥: ç©ºãã³ã‚“ãƒ»ãƒšãƒƒãƒˆãƒœãƒˆãƒ«
						- æ¯æ—¥ 19:00 ã«ã‚´ãƒŸå‡ºã—æ—¥ã‹åˆ¤å®šã™ã‚‹ã€‚ã‚´ãƒŸå‡ºã—æ—¥ãªã‚‰ LINE ã«é€šçŸ¥ã™ã‚‹ã€‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ã©ã†ã‚„ã£ã¦é€šçŸ¥ã™ã‚‹ï¼Ÿ ğŸ¤”
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ä¾‹ 1
						- AWS Lambda
							- Rate/Cron ã§å®šæœŸå®Ÿè¡Œã™ã‚‹ã€‚
							- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Python/Ruby/JavsScript ãªã©å¥½ããªè¨€èªã§æ›¸ãã€‚
							- AWS ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ã€‚
							- æœ‰æ–™ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
							- ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (npm ã‚„ pip ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€gem ãªã©) ã‚’ä½¿ã†ã®ãŒé¢å€’ã€‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ä¾‹ 2
						- Google App Script
							- ãƒˆãƒªã‚¬ãƒ¼ã§å®šæœŸå®Ÿè¡Œã™ã‚‹ã€‚
							- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ JavsScript ã§æ›¸ãã€‚
							- Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒã‚ã‚Œã°ç„¡æ–™ã§ä½¿ãˆã‚‹ã€‚
							- npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã®ãŒé¢å€’ã€‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ã‚‚ã£ã¨æ°—è»½ã«æ›¸ããŸã„ ğŸ˜‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						<figure>
							<img style="margin-bottom: 5px;" height=400 src="dist/images/raspberry_pi_4b.jpg">
							<figcaption style="font-size: 40px; text-align: center;">Raspberry Pi</figcaption>
						</figure>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## Raspberry Pi
						- ARM ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’æ­è¼‰ã—ãŸ<br>ã‚·ãƒ³ã‚°ãƒ«ãƒœãƒ¼ãƒ‰ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã€‚
						- [å…¬å¼ã‚·ãƒ§ãƒƒãƒ—](https://jp.rs-online.com/web/c/raspberry-pi-arduino-development-tools/raspberry-pi-shop/raspberry-pi/) ã§ç´„ 4,200 å†† (ç¨åˆ¥) ã§è³¼å…¥ã§ãã‚‹ã€‚
						- Raspberry Pi OS ã¨ã„ã† Debian ãƒ™ãƒ¼ã‚¹ã® OS ã‚’<br>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã€‚
						  - [Raspberry Pi Imager](https://www.raspberrypi.org/software/) ã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ãˆã°<br>
							  OS ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ microSD ã«ç°¡å˜ã«æ›¸ãè¾¼ã‚ã‚‹ã€‚
						- USB é›»æºãªã®ã§ã€å¸¸æ™‚èµ·å‹•ã—ã¦ã„ã¦ã‚‚<br>é›»æ°—ä»£ãŒã»ã¨ã‚“ã©æ›ã‹ã‚‰ãªã„ã€‚
						  - 1 ãƒ¶æœˆ 100 å††æœªæº€ã€‚
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## Raspberry Pi
						- Ruby ã‚„ Pythonã€Node.js ãªã©å¥½ããªè¨€èªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ãˆã‚‹ã€‚
						- cron ã‚’ä½¿ã£ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šæœŸå®Ÿè¡Œã§ãã‚‹ã€‚
					</textarea>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template>
							## å®Ÿç¾æ–¹æ³•
							- Raspberry Pi ã« Ruby ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚
							- LINE Notify ã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹ã€‚
								- Qiita: [è‡ªåˆ†ã® LINE ã« Ruby ã§é€šçŸ¥ã‚’é€ã‚‹](https://qiita.com/QUANON/items/94f8835e923c76188f66)
							- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè£…ã—ã€cron ã§å®šæœŸå®Ÿè¡Œã™ã‚‹ã€‚
								- Qiita: [[Ruby][LINE] ã”ã¿å‡ºã—æ—¥ã« LINE ã§é€šçŸ¥ã™ã‚‹](https://qiita.com/QUANON/items/ccfe650a30bd6068a5f4)
						</textarea>
					</section>
					<section>
						<div style="overflow: scroll; height: 700px;">
							<figure><img src="dist/images/qiita_article2.png"></figure>
						</div>
					</section>
					<section style="height: 100%;">
						<h3>Ruby ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</h3>
						<pre style="height: 80%;"><code data-trim data-noescape>
							require 'active_support'
							require 'active_support/core_ext'
							require 'net/http'
							require 'uri'

							# LINE ã«é€šçŸ¥ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã€‚
							class NotifyLINE
								TOKEN = 'ã“ã“ã« LINE Notify ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã™ã‚‹ã€‚'
								URL = 'https://notify-api.line.me/api/notify'

								attr_reader :message

								def self.call(message)
									new(message).call
								end

								def initialize(message)
									@message = message
								end

								def call
									Net::HTTP.start(uri.hostname, uri.port, use_ssl: true) do |https|
										https.request(request)
									end
								end

								private

								def request
									request = Net::HTTP::Post.new(uri)
									request['Authorization'] = "Bearer #{TOKEN}"
									request.set_form_data(message: message)
									request
								end

								def uri
									URI.parse(URL)
								end
							end

							# ã‚´ãƒŸæ¨ã¦æ—¥ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹ã€‚
							class GarbageDisposalDay
								attr_reader :wday, :nth, :type

								WDAYS = %w(æ—¥ æœˆ ç« æ°´ æœ¨ é‡‘ åœŸ).freeze

								def initialize(wday:, nth:, type:)
									@wday = WDAYS.index(wday)
									@nth = nth
									@type = type
								end

								def to_s
									"ç¬¬ #{nth} #{WDAYS[wday]}æ›œæ—¥ã€Œ#{type}ã€"
								end

								def apply?(date)
									wday == date.wday && nth == nth_day_of_week(date)
								end

								private

								# æ—¥ä»˜ãŒãã®æœˆã§ä½•å›ç›®ã®æ›œæ—¥ã‹ã©ã†ã‹ã€‚
								def nth_day_of_week(date)
									(date.beginning_of_month..date).count { _1.wday == date.wday }
								end
							end

							# ä½ã‚“ã§ã„ã‚‹åœ°åŸŸã®ã”ã¿å‡ºã—æ—¥ã‚’å®šç¾©ã™ã‚‹ã€‚
							GARBAGE_DISPOSAL_DAYS = [
								# æ¯é€±æœˆãƒ»æœ¨ã¯ç‡ƒãˆã‚‹ã‚´ãƒŸã®æ—¥ã€‚
								*%w(æœˆ æœ¨).product([*1..5]).map { |wday, nth| GarbageDisposalDay.new(wday: wday, nth: nth, type: 'ç‡ƒãˆã‚‹ã‚´ãƒŸ') },
								GarbageDisposalDay.new(wday: 'æ—¥', nth: 2, type: 'ç‡ƒãˆãªã„ã”ã¿'),
								GarbageDisposalDay.new(wday: 'æ—¥', nth: 4, type: 'ç©ºãã³ã‚“ãƒ»ãƒšãƒƒãƒˆãƒœãƒˆãƒ«'),
								GarbageDisposalDay.new(wday: 'ç«', nth: 2, type: 'å¤ç´™ãƒ»ãƒ€ãƒ³ãƒœãƒ¼ãƒ« (ç¿Œæœå›å)'),
								GarbageDisposalDay.new(wday: 'ç«', nth: 4, type: 'å¤ç´™ãƒ»ãƒ€ãƒ³ãƒœãƒ¼ãƒ« (ç¿Œæœå›å)')
							]

							today = Date.today
							garbage_disposal_day = GARBAGE_DISPOSAL_DAYS.find { _1.apply?(today) }

							if garbage_disposal_day
								NotifyLINE.call("ä»Šæ—¥ã¯#{garbage_disposal_day}ã®æ—¥ã§ã™ã€‚å¿˜ã‚Œãšã«æ¨ã¦ã¾ã—ã‚‡ã†ï¼")
							end
						</code></pre>
					</section>
				</section>
				<section data-markdown>
					<textarea data-template>
						<figure>
							<img style="margin-bottom: 5px;" height=600 src="dist/images/my_line.jpg">
							<figcaption style="font-size: 40px; text-align: center;">LINE Notify ã‹ã‚‰ã®é€šçŸ¥</figcaption>
						</figure>
					</textarea>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template>
							## ãã®ä»–ã®æ´»ç”¨æ–¹æ³•
							- Headless Chrome ã‚’å‹•ã‹ã›ã‚‹ã€‚
								- [Puppeteer](https://github.com/puppeteer/puppeteer), [Playwright](https://github.com/microsoft/playwright) etc.
								- ãƒ­ã‚°ã‚¤ãƒ³æ“ä½œ
								- ä»»æ„ã®è¦ç´ ã®ç”»åƒã‚­ãƒ£ãƒ—ãƒãƒ£
									- Qiita: [[Node.js][LINE] æ¯æ—¥ LINE ã«èŠ±ç²‰æƒ…å ±ã‚’é€šçŸ¥ã™ã‚‹](https://qiita.com/QUANON/items/2bef162270cff879baed)
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							<div style="overflow: scroll; height: 700px;">
								<figure><img src="dist/images/qiita_article3.png"></figure>
							</div>
						</textarea>
					</section>
				</section>
				<section>
					<section data-markdown>
						<textarea data-template>
							## ã¾ã¨ã‚
							- Raspberry Pi ã‚’ä½¿ã†ã¨<br>
								LINE Notify ã«å®šæœŸçš„ã«é€šçŸ¥ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’<br>
								è‡ªåˆ†ã®å¥½ããªè¨€èªã§æ›¸ã‘ã‚‹ ğŸ’ª
							- æ•°åƒå††ã®åˆæœŸæŠ•è³‡ã§ãšã£ã¨ä½¿ãˆã‚‹ ğŸ’ª
							- LINE Notify ã¨ã®ç›¸æ€§æŠœç¾¤ ğŸ¥°
							- ãŸã®ã—ã„ LINE Notify ãƒ©ã‚¤ãƒ•ã‚’æº€å–«ã—ã‚ˆã† ğŸ’–
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							<figure>
								<img style="margin-bottom: 5px;" height=400 src="dist/images/raspberry_pi_case.jpg">
								<figcaption style="font-size: 40px; text-align: center;">ã‹ã‚ã„ã„ã‚±ãƒ¼ã‚¹</figcaption>
							</figure>
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							<figure>
								<img style="margin-bottom: 5px;" height=400 src="dist/images/raspberry_pi_with_touch_screen.jpg">
								<figcaption style="font-size: 40px; text-align: center;">ã‚¿ãƒƒãƒã‚¹ã‚¯ãƒªãƒ¼ãƒ³</figcaption>
							</figure>
							<a style="font-size: 20px;" href="https://trickiknow.com/how-to-install-waveshare-3-5-inch-lcd-on-raspberry-pi-4/">How to Install WaveShare 3.5 Inch LCD on Raspberry Pi 4</a>
						</textarea>
					</section>
					<section data-markdown>
						<textarea data-template>
							<figure>
								<img style="margin-bottom: 5px;" height=600 src="dist/images/raspberry_pi_400.jpg">
								<figcaption style="font-size: 40px; text-align: center;">Raspberry Pi 400</figcaption>
							</figure>
						</textarea>
					</section>
				</section>
				<section data-markdown>
					<textarea data-template>
						## ã”æ¸…è´<br>ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ
						<figure>
							<img style="margin-top: -80px;" height=600 src="dist/images/thank_you.png">
						</figure>
					</textarea>
				</section>
			</div>
		</div>
		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
			});
		</script>
	</body>
</html>
